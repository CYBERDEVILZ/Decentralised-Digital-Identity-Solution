<html>
    <head>
        <title>
            User's dashboard
        </title>
        <link rel="stylesheet" href="{{ url_for('static', filename='css/user.css') }}">
        <script src="{{ url_for('static', filename='js/walletOperations.js') }}"></script>
        <script src="{{ url_for('static', filename='js/web3.js') }}"></script>
    </head>
    <body>
        <!-- Place holder to show while data is being fetched -->
        <div id="fetchingData" class="fetchingData">
            Fetching Data...
        </div>
        <!-- Details BOX -->
        <div class="formbox" id="detailsBox">
            <h2>User Details</h2>
            <!-- user details -->
            <div class="details" id="details">
                <div class="name" id="name">name: </div>
                <div class="dob" id="dob">dob: </div>
                <div class="email" id="email">email: </div>
                <div class="phone" id="phone">phone: </div>
                <div class="image" id="image">image link: </div>
                <div class="video" id="video">video link: </div>
                <div class="verified" id="verified">verified: </div>
                <div class="inputbox">
                    <button id="update_details">Update Details</button>
                </div>
            </div>
            <!-- div to show when update details button is pressed -->
            <div class="updateDetails" id="updateDetails">
                <div class="name inputarea" id="name">name: 
                    <input type="text" id="nameText">
                </div>
                <div class="dob inputarea" id="dob">dob: 
                    <input type="text" id="dateText">
                </div>
                <div class="email inputarea" id="email">email: 
                    <input type="email" id="emailText">
                </div>
                <div class="phone inputarea" id="phone">phone: 
                    <input type="number" id="phoneNumber">
                </div>
                <div class="image inputarea" id="image">image link: 
                    <input type="file"  id="imageFile">
                </div>
                <div class="video inputarea" id="video">video link: 
                    <input type="file"  id="videoFile">
                </div>
                <div class="buttons" style="display: flex; margin-top: 10px;">
                    <div class="inputbox">
                        <button id="cancel">Cancel</button>
                    </div>
                    <div class="inputbox">
                        <button id="save">Save</button>
                    </div>
                </div>
            </div>
            
        </div>
        <!-- Consents BOX -->
        <div class="consentsbox" id="consentsbox">
            <h2>Your Given Consents</h2>
        </div>
    </body>
    <script src="{{ url_for('static', filename='js/userOperations.js') }}"></script>
    <script>
        async function init(){
            // connect wallet;
            await connectWallet();
            console.log("account: " + account);
            // call endpoint to get data from smart contracts
           await getUserInfoFromSmartContract(account);
        }
       init();
    </script>
</html>