<html>
    <head>
        <title>
            Company Consent Management
        </title>
        <link rel="stylesheet" href="{{ url_for('static', filename='css/company.css') }}">
        <script src="{{ url_for('static', filename='js/walletOperations.js') }}"></script>
        <script src="{{ url_for('static', filename='js/web3.js') }}"></script>
    </head>
    <body>
        <!-- fetching data div -->
        <div id="fetchingData" class="fetchingData">
            Fetching Your Consent...
        </div>

        <!-- details box -->
        <div class="formbox" id="detailsBox">
            <h2 id="heading">Hi, </h2>
            <div class="inputbox">
                Your Consent: 
            </div>
           
            <!-- div showing consent details -->
            <div class="details" id="details">
                <div class="name" id="name">name: </div>
                <div class="dob" id="dob">dob: </div>
                <div class="email" id="email">email: </div>
                <div class="phone" id="phone">phone: </div>
                <div class="image" id="image">image link: </div>
                <div class="video" id="video">video link: </div>
                <div class="inputbox">
                    <button id="update_details">Update Consent</button>
                </div>
            </div>
           
            <!-- div asking for consent -->
            <div class="updateDetails" id="updateDetails">
                <div class="name inputarea" id="name">name: 
                    <input type="checkbox" id="nameRadio">
                </div>
                <div class="dob inputarea" id="dob">dob: 
                    <input type="checkbox" id="dateRadio">
                </div>
                <div class="email inputarea" id="email">email: 
                    <input type="checkbox" id="emailRadio">
                </div>
                <div class="phone inputarea" id="phone">phone: 
                    <input type="checkbox" id="phoneRadio">
                </div>
                <div class="image inputarea" id="image">image link: 
                    <input type="checkbox"  id="imageRadio">
                </div>
                <div class="video inputarea" id="video">video link: 
                    <input type="checkbox"  id="videoRadio">
                </div>
                <div class="buttons" style="display: flex; margin-top: 10px;">
                    <div class="inputbox">
                        <button id="cancel">Cancel</button>
                    </div>
                    <div class="inputbox">
                        <button id="save">Save</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Consents BOX -->
        <div class="consentsbox" id="consentsbox">
            <h2>Retrieve Data Based on Consent</h2>
            <!-- enter wallet address -->
            <div class="enterWalletAddress">
                Enter User's Wallet Address: <input type="text" id="userAddress"> 
            </div>
            <!-- div to show retrieved data -->
            <div class="retrievedData" id="retrievedData", style="text-align: center;">
                
            </div>
            <!-- button -->
            <div style="display: flex; justify-content: center;">
                <div class="inputbox">
                    <button id="retrieve">Retrieve Data</button>
                </div>
            </div>
        </div>
    </body>
    <script src="{{ url_for('static', filename='js/companyOperations.js') }}"></script>
    <script>
        async function init(){
            await connectWallet();
            // call function to retrieve consent of company
            await retrieveCompanyConsent(account);
        }
        init();
    </script>
</html>